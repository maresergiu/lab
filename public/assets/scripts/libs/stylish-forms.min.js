/* Stylish Forms 3.4.3 */
!function(e){window.stylishForms||(window.stylishForms={}),window.stylishForms=new function(){var t,s=!1,i=function(i){var o,n,a,d=function(t){var s,i=0,o="";return t.children().each(function(){e(this).is("optgroup")?(o+='<div class="dropdown-option group">',o+="<span>"+e(this).attr("label")+"</span>",o+="<ul>",e(this).children().each(function(){e(this).data("index",i),o+='<li class="dropdown-option" role="option" data-index="'+i+'" '+(e(this).is(":disabled")?'class="disabled"':"")+(e(this).is(":selected")?" option-selected":"")+">"+e(this).text()+"</li>",i+=1}),o+="</ul>",o+="</div>"):(e(this).data("index",i),o+='<div class="dropdown-option'+(e(this).is(":disabled")?" disabled":"")+(e(this).is(":selected")?" option-selected":"")+'" role="option" data-index="'+i+'">'+e(this).text()+"</div>",i+=1)}),(s=t.closest(".stylish-select").find(".dropdown-list > div")).append(o),s.find(".dropdown-option").add(s.find(".dropdown-option")).not(".disabled, .group").attr("tabindex",0),o},l=function(e){e.siblings(".selected").html('<span class="text">'+e.data("default-option-text")+'</span><span class="ico"></span>'),e.find(".dropdown-option").attr("tabindex",0)},c={checkboxDdSelected:function(t){var s=t.find('input[type="checkbox"]:checked, input[type="radio"]:checked'),i=t.find(".selected > span.text"),o=[],n="";0===s.length?i.html(t.find(".dropdown-list").data("default-option-text")):(s.each(function(){o.push(e('label[for="'+e(this).attr("id")+'"]').text())}),n=o.join(", "),i.html(n),i.attr("title",n))},setDropdownHeight:function(t){var s=t.offset(),i=t.closest(".stylish-select").offset().top-o,o=e(window).scrollTop(),n=s.top+t.outerHeight(),a=e(window).height()+o,d=s.top-o,l=a-s.top;n>a?d>l?(t.css("max-height",.8*d),t.addClass("show-above")):(t.css("max-height",.8*(a-s.top)),t.removeClass("show-above")):i<d&&(t.removeClass("show-above"),t.css("max-height",""))},hideDropdowns:function(t){0===e(t.target).closest(".stylish-select").length&&e("[data-stylish-form]").find(".stylish-select").removeClass("active").find(".dropdown-list").hide().css("max-height","").removeClass("show-above")},setFocusClass:function(e){e.on({focus:function(){e.parent().addClass("focus")},blur:function(){e.parent().removeClass("focus")}})},returnDefaultSelected:function(e){var t=e.find("option").filter(function(){return this.defaultSelected}),s=e.closest(".stylish-select").find(".dropdown-list .dropdown-option");return 0===t.length?(s.eq(0).addClass("option-selected"),s.eq(0)):(s.eq(t.index()).addClass("option-selected"),t)},returnDefaultChecked:function(e){e.closest(".stylish-form").find('input:radio[name="'+e.attr("name")+'"]').filter(function(){return this.defaultChecked}).prop("checked",!0).siblings("span").addClass("checked")},disableField:function(e){e.parent().toggleClass("disabled",e.is(":disabled"))},checkField:function(t){"radio"===t.attr("type")&&(t.closest(".stylish-form").find("input:radio").not(":checked").each(function(){e(this).attr("name")===t.attr("name")&&e(this).siblings("span").removeClass("checked")}),e('input:radio[name="'+t.attr("name")+'"]:checked').val()||c.returnDefaultChecked(t)),t.siblings("span").toggleClass("checked",t.is(":checked"))},dualStatesHelper:function(e,t){e.wrap('<div class="stylish-ds" data-type="'+t+'" />').css({opacity:0,position:"absolute"}).before('<span class="'+(e.is(":checked")?"checked":"")+'"><span class="ico"></span></span>')},updateCheckboxSelected:function(e){e.closest(".stylish-select.checkbox-dropdown").length&&(c.checkboxDdSelected(e.closest(".stylish-select.checkbox-dropdown")),e.closest("li").toggleClass("checked"))},stepFallback:function(e,t){var s,i,o=parseFloat(e.attr("step"))||1,n=-1!==o.toString().indexOf(".")?o.toString().split(".")[1].length:0,a=parseFloat(e.attr("min")),d=parseFloat(e.attr("max"));switch(t){case"up":s=(parseFloat(e.val())+o).toString();break;case"down":s=(parseFloat(e.val())-o).toString()}-1!==s.indexOf(".")&&(s=(i=s.split("."))[0]+"."+i[1].substr(0,n)),parseFloat(s)>d?s=d:parseFloat(s)<a&&(s=a),e.val(s)}};t=function(t){t.is("select")?(t.closest(".stylish-select").find(".dropdown-list").html(d(t)),t.siblings(".selected").find(".text").text(c.returnDefaultSelected(t).text()),c.disableField(t)):t.is(".checkbox-dropdown")?(l(t),c.disableField(t),t.find(".dropdown-option").each(function(){if(0===e(this).children(".stylish-ds").length){var t=e(this).find('input[type="checkbox"], input[type="radio"]');c.dualStatesHelper(t,t.attr("type")),c.updateCheckboxSelected(t)}})):"checkbox"!==t.attr("type")&&"radio"!==t.attr("type")||(c.checkField(t),c.disableField(t),c.updateCheckboxSelected(t))},i.off(),i.addClass("stylish-form").attr("data-stylish-form","set"),i.find('input[type="text"], input[type="number"], input[type="password"], input[type="email"], input[type="tel"], input[type="color"], input[type="date"], input[type="datetime-local"], input[type="month"], input[type="search"], input[type="time"], input[type="tel"], input[type="url"], input[type="week"], textarea').each(function(){e(this).attr("tabindex",0).wrap('<div class="stylish-'+this.type+'" data-type="'+this.type+'" tabindex="-1" />').before("<span></span>"),"number"===this.type&&e(this).after('<span class="ico up" role="button"></span><span class="ico down" role="button"></span>'),c.setFocusClass(e(this)),c.disableField(e(this))}),i.find("select").each(function(){var t=e(this);t.wrap('<div class="stylish-select" data-type="'+this.type+'" tabindex="-1" />').after('<span class="selected"><span class="text">'+t.find("option:selected").text()+'</span><span class="ico"></span></span><div class="dropdown-list" role="listbox"><div></div></div>'),d(t),c.setFocusClass(t),c.disableField(t)}),i.find('input[type="checkbox"], input[type="radio"]').each(function(){c.dualStatesHelper(e(this),e(this).attr("type")),c.setFocusClass(e(this))}),i.find('.dropdown-list[data-stylish-group="checkbox-dropdown"]').each(function(){e(this).wrap('<div class="stylish-select checkbox-dropdown" data-type="'+this.type+'" />').before('<span class="selected" tabindex="0"></span>'),l(e(this)),c.setFocusClass(e(this).siblings(".selected"))}),jQuery.ui&&i.find('[data-type="range"]').each(function(){var t=e(this),s=t.data(),i=s.updateValue,o=s.inputfor,n=t.parent().find('[data-input-from="'+o+'"]'),a=t.parent().find('[data-input-to="'+o+'"]'),d=[n.val(),a.val()].filter(function(e){return void 0!==e});t.slider({range:d.length>1,values:d,step:s.precision,min:s.min,max:s.max,slide:function(e,t){var s=t.values[0],o=t.values[1];i&&(n&&n.val(s),a&&a.val(o))},start:c.hideDropdowns})}),n="",a=!1,i.on("click",".stylish-number .ico",function(){var t=e(this),s=t.siblings('input[type="number"]');if(t.hasClass("up"))try{s[0].stepUp(1)}catch(e){c.stepFallback(s,"up")}else if(t.hasClass("down"))try{s[0].stepDown(1)}catch(e){c.stepFallback(s,"down")}}),i.on("keypress",".stylish-number .ico",function(t){13===t.which&&e(this).click()}),i.on("change",'.stylish-ds input[type="checkbox"]',function(){var t=e(this);t.siblings("span").toggleClass("checked",t.is(":checked")),c.updateCheckboxSelected(e(this))}),i.on("change",".stylish-ds input[type=radio]",function(){i.find('input[type="radio"][name="'+e(this).attr("name")+'"]').each(function(){e(this).siblings("span").removeClass("checked")}),e(this).siblings("span").addClass("checked")}),i.on("click keypress",".stylish-select > .selected",function(t){var s,o,n,a=e(this);"undefined"!=typeof toolkit&&toolkit.client.Mobile&&i.data("stylish-native")||("click"===t.type||"keypress"===t.type&&13===t.which)&&(o=(s=a.closest(".stylish-select")).find(".dropdown-list"),n=a.siblings("select"),t.stopPropagation(),n.is(":disabled")||(e(".stylish-select .dropdown-list").not(o).hide().closest(".stylish-select").removeClass("active"),o.toggle(),o.is(":visible")?(s.addClass("active"),c.setDropdownHeight(o)):(s.removeClass("active"),s.find(".dropdown-list").removeClass("show-above")),0===o.find(".option-selected").length&&c.returnDefaultSelected(n)))}),i.on("mouseover",".stylish-select:not(.checkbox-dropdown) .dropdown-option",function(t){e(this).not(".disabled").addClass("option-selected").siblings(".option-selected").removeClass("option-selected")}),i.on("click",".stylish-select:not(.checkbox-dropdown) .dropdown-option",function(t){var s,i,o=e(this);t.stopPropagation(),o.is(":not(.group, .disabled)")&&(i=(s=o.closest(".stylish-select")).find("select"),s.find(".dropdown-list").hide(),s.removeClass("active"),i.prop("selectedIndex")!==o.data("index")&&i.prop("selectedIndex",o.data("index")).change())}),i.on("change",".stylish-select select",function(){var t=e(this),s=t.find("option:selected"),i=t.closest(".stylish-select").find(".dropdown-list");t.parent().find("span.selected > span.text").html(s.text()),i.find(".dropdown-option[data-index]").removeClass("option-selected").eq(t.prop("selectedIndex")).addClass("option-selected")}),i.on("keypress, keyup, keydown",".stylish-select select",function(t){var s=e(this),i=s.closest(".stylish-select"),o=i.find(".dropdown-list");switch(t.which){case 13:case 32:t.preventDefault(),t.stopPropagation(),i.hasClass("active")?c.hideDropdowns(s):(i.addClass("active"),o.show(),c.setDropdownHeight(o)),s.blur(),i.focus(),s.trigger("change");break;case 27:case 9:s.trigger("change"),c.hideDropdowns(s);break;case 38:case 40:s.trigger("change")}}),i.on("keypress, keyup, keydown",".stylish-select.active",function(t){var s=e(this),i=s.find("select"),d=s.find(".dropdown-list"),l=d.find(".dropdown-option:not(.disabled)"),p=l.filter(".option-selected"),r=!1;function h(t){if(n===e(this).text().trim().substring(0,n.length).toLowerCase())return p.removeClass("option-selected"),e(this).addClass("option-selected"),r=!0,!1}switch(t.which){case 13:case 32:case 27:case 9:t.preventDefault(),!s.hasClass("checkbox-dropdown")||13!==t.which&&32!==t.which?(i.find("option").eq(p.data("index")).prop("selected",!0),i.focus(),s.blur().removeClass("active"),i.trigger("change")):p.find('input[type="checkbox"]').click(),c.hideDropdowns(i);break;case 38:t.preventDefault(),p.length?p.index()&&(p.removeClass("option-selected").prevAll(".dropdown-option:not(.disabled)").first().addClass("option-selected"),d.scrollTop(l.filter(".option-selected").position().top)):l.last().addClass("option-selected");break;case 40:t.preventDefault(),p.length?p.index()+1<l.length&&(p.removeClass("option-selected").nextAll(".dropdown-option:not(.disabled)").first().addClass("option-selected"),d.scrollTop(l.filter(".option-selected").position().top)):l.first().addClass("option-selected");break;default:(t.which>=48&&t.which<=57||t.which>=65&&t.which<=90)&&p.length&&(a?(clearTimeout(o),n+=String.fromCharCode(t.which).toLowerCase()):n=String.fromCharCode(t.which).toLowerCase(),a=!0,o=setTimeout(function(){a=!1},1e3),l.slice(p.index()+1).each(h),r||l.slice(0,p.index()).each(h),d.scrollTop(l.filter(".option-selected").position().top))}}),!1===s&&(e(document).on("click touchend",c.hideDropdowns),s=!0)};this.apply=function(){e('[data-stylish-form="true"]').each(function(){i(e(this))})},this.update=function(){this.apply()},this.refresh=function(e){t(e)}}}(jQuery);